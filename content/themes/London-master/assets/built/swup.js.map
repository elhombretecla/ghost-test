{"version":3,"sources":["swup.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","m","modules","name","options","runScripts","exec","swup","getHTMLfromCache","document","addEventListener","currentHead","querySelector","newHead","replaceHeadWithoutReplacingExistingTags","oldTags","children","newTags","oldTagsToRemove","newTagsToRemove","i","length","oldTag","oldTagIdentifier","outerHTML","foundInNewHead","newTag","j","push","_i","removeChild","_i2","added","removed","fragment","createDocumentFragment","_i3","appendChild","querySelectorAll","forEach","item","tagName","type","elem","createElement","src","inline","createTextNode","innerText","log","c","d","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","call","p","s","moduleId","l","query","selector","context","arguments","undefined","queryAll","Array","slice","defineProperties","target","props","descriptor","configurable","writable","Link","Constructor","protoProps","staticProps","_createClass","href","this","link","path","pathname","search","hash","instance","TypeError","_classCallCheck","default","obj","_index","_index2","_extends","assign","source","_delegate2","_interopRequireDefault","_Cache2","_Link2","_transitionEnd2","_request2","_getDataFromHtml2","_loadPage2","_renderPage2","_createState2","_triggerEvent2","_getUrl2","_scrollTo2","_classify2","_doScrolling2","_markSwupElements2","_on2","_off2","_updateTransition2","_preloadPage2","_preloadPages2","_usePlugin2","_log2","Swup","_this","support","history","console","warn","transitionEndEvent","Promise","toString","indexOf","delegatedListeners","click","LINK_SELECTOR","linkClickHandler","mouseover","body","linkMouseoverHandler","formSubmit","FORM_SELECTOR","formSubmitHandler","popStateHandler","page","getDataFromHtml","documentElement","url","currentUrl","cache","cacheUrl","debugMode","markSwupElements","plugins","usePlugin","replaceState","state","location","random","Math","title","animateHistoryBrowsing","scrollRestoration","triggerEvent","classList","add","preloadPages","destroy","removeEventListener","empty","element","dataset","off","remove","event","metaKey","button","preventDefault","setPath","delegateTarget","getAddress","getHash","scroll","top","getBoundingClientRect","pageYOffset","scrollTo","scrollToElement","customTransition","swupTransition","loadPage","_this2","preload","exists","preloadPromise","resolve","reject","getPage","response","request","status","route","form","formData","FormData","action","method","toLowerCase","data","inputs","input","checked","encodeURIComponent","skipPopStateHandling","setOptions","defaults","animationSelector","elements","pageClassPrefix","doScrollingRightAway","animateScroll","scrollFriction","scrollAcceleration","origin","transition","_handlers","animationInDone","animationInStart","animationOutDone","animationOutStart","animationSkipped","clickLink","contentReplaced","disabled","enabled","hoverLink","openPageInNewTab","pageLoaded","pagePreloaded","pageRetrievedFromCache","pageView","popState","samePage","samePageWithHash","scrollDone","scrollStart","serverError","submitForm","willReplaceContent","getUrl","renderPage","createState","classify","doScrolling","on","updateTransition","preloadPage","enable","closest","callback","useCapture","listenerFn","e","apply","Element","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","nodeType","parentNode","Cache","displayCache","count","pages","last","groupCollapsed","keys","groupEnd","showLog","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","style","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","_utils","html","content","replace","fakeDom","innerHTML","blocks","index","pageClass","className","originalContent","responseURL","popstate","animationPromises","animatedElements","promise","all","then","pop","xhrPromise","concat","catch","errorUrl","go","_Link","getPath","split","includes","setTimeout","promises","classItem","RegExp","test","pushState","hostname","getElementsByTagName","eventName","originalEvent","handler","error","CustomEvent","detail","dispatchEvent","to","animatedScroll","friction","acceleration","positionY","velocityY","targetPositionY","targetPositionYWithOffset","direction","raf","animate","distance","applyForce","update","render","requestAnimationFrame","force","cancelAnimationFrame","passive","offset","scrollTop","text","output","splice","filter","savedHandler","toRemove","from","custom","plugin","str"],"mappings":"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","file":"swup.js","sourcesContent":["/**Swup mergeHead Plugin */\n(function webpackUniversalModuleDefinition(root, factory) {\n    if (typeof exports === 'object' && typeof module === 'object')\n        module.exports = factory();\n    else if (typeof define === 'function' && define.amd)\n        define([], factory);\n    else if (typeof exports === 'object')\n        exports[\"swupMergeHeadPlugin\"] = factory();\n    else\n        root[\"swupMergeHeadPlugin\"] = factory();\n})(window, function () {\n    return /******/ (function (modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif (installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n                /******/\n            }\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n                /******/\n            };\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n            /******/\n        }\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function (exports, name, getter) {\n/******/ \t\tif (!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n                /******/\n            }\n            /******/\n        };\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function (exports) {\n/******/ \t\tif (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n                /******/\n            }\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n            /******/\n        };\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function (value, mode) {\n/******/ \t\tif (mode & 1) value = __webpack_require__(value);\n/******/ \t\tif (mode & 8) return value;\n/******/ \t\tif ((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n            /******/\n        };\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function (module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n            /******/\n        };\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function (object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n        /******/\n    })\n/************************************************************************/\n/******/([\n/* 0 */\n/***/ (function (module, exports, __webpack_require__) {\n\n            \"use strict\";\n\n\n            module.exports = {\n                name: 'swupMergeHeadPlugin',\n                options: { runScripts: false },\n                exec: function exec(options, swup, getHTMLfromCache) {\n                    document.addEventListener('swup:contentReplaced', function () {\n                        var currentHead = document.querySelector('head');\n                        var newHead = getHTMLfromCache().querySelector('head');\n                        replaceHeadWithoutReplacingExistingTags(currentHead, newHead);\n                    });\n\n                    var replaceHeadWithoutReplacingExistingTags = function replaceHeadWithoutReplacingExistingTags(currentHead, newHead) {\n                        var oldTags = currentHead.children;\n                        var newTags = newHead.children;\n                        var oldTagsToRemove = [];\n                        var newTagsToRemove = [];\n\n                        for (var i = 0; i < oldTags.length; i++) {\n                            var oldTag = oldTags[i];\n                            var oldTagIdentifier = oldTag.outerHTML;\n                            var foundInNewHead = false;\n                            var newTag = void 0;\n                            for (var j = 0; j < newTags.length; j++) {\n                                newTag = newTags[j];\n                                var newTagIdentifier = newTag.outerHTML;\n\n                                if (newTagIdentifier === oldTagIdentifier) {\n                                    foundInNewHead = true;\n                                    break;\n                                }\n                            }\n\n                            if (foundInNewHead) {\n                                newTagsToRemove.push(newTag);\n                            } else {\n                                oldTagsToRemove.push(oldTag);\n                            }\n                        }\n\n                        for (var _i = 0; _i < newTagsToRemove.length; _i++) {\n                            newHead.removeChild(newTagsToRemove[_i]);\n                        }\n\n                        for (var _i2 = 0; _i2 < oldTagsToRemove.length; _i2++) {\n                            currentHead.removeChild(oldTagsToRemove[_i2]);\n                        }\n\n                        var added = newHead.children.length;\n                        var removed = oldTagsToRemove.length;\n\n                        var fragment = document.createDocumentFragment();\n                        for (var _i3 = 0; _i3 < newHead.children.length; _i3++) {\n                            fragment.appendChild(newHead.children[_i3]);\n                        }\n                        currentHead.appendChild(fragment);\n\n                        if (options.runScripts) {\n                            newHead.querySelectorAll('script').forEach(function (item) {\n                                if (item.tagName == \"SCRIPT\" && (item.type == null || item.type == \"\" || item.type == \"text/javascript\")) {\n                                    var elem = document.createElement('script');\n                                    if (item.src != null && item.src != \"\") {\n                                        elem.src = item.src;\n                                    } else {\n                                        var inline = document.createTextNode(item.innerText);\n                                        elem.appendChild(inline);\n                                    }\n                                    if (item.type != null && item.type != \"\") {\n                                        elem.type = item.type;\n                                    }\n                                    currentHead.appendChild(elem);\n                                } else { }\n                            });\n                        }\n\n                        swup.log('Removed ' + removed + ' / added ' + added + ' tags in head');\n                    };\n                }\n            };\n\n            /***/\n        })\n/******/]);\n});\n\n/**Swup.js */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Swup\"] = factory();\n\telse\n\t\troot[\"Swup\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.query = query;\nexports.queryAll = queryAll;\nfunction query(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return context.querySelector(selector);\n}\n\nfunction queryAll(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return Array.prototype.slice.call(context.querySelectorAll(selector));\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Link = function () {\n    function Link() {\n        _classCallCheck(this, Link);\n\n        this.link = document.createElement(\"a\");\n    }\n\n    _createClass(Link, [{\n        key: 'setPath',\n        value: function setPath(href) {\n            this.link.href = href;\n        }\n    }, {\n        key: 'getPath',\n        value: function getPath() {\n            var path = this.link.pathname;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getAddress',\n        value: function getAddress() {\n            var path = this.link.pathname + this.link.search;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getHash',\n        value: function getHash() {\n            return this.link.hash;\n        }\n    }]);\n\n    return Link;\n}();\n\nexports.default = Link;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _index = __webpack_require__(3);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _index2.default; // this is here for webpack to expose Swup as window.Swup\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n// helpers\n\n\n// modules\n\n\nvar _delegate = __webpack_require__(4);\n\nvar _delegate2 = _interopRequireDefault(_delegate);\n\nvar _Cache = __webpack_require__(6);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _transitionEnd = __webpack_require__(7);\n\nvar _transitionEnd2 = _interopRequireDefault(_transitionEnd);\n\nvar _request = __webpack_require__(8);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _getDataFromHtml = __webpack_require__(9);\n\nvar _getDataFromHtml2 = _interopRequireDefault(_getDataFromHtml);\n\nvar _loadPage = __webpack_require__(10);\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = __webpack_require__(11);\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _createState = __webpack_require__(12);\n\nvar _createState2 = _interopRequireDefault(_createState);\n\nvar _triggerEvent = __webpack_require__(13);\n\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\n\nvar _getUrl = __webpack_require__(14);\n\nvar _getUrl2 = _interopRequireDefault(_getUrl);\n\nvar _scrollTo = __webpack_require__(15);\n\nvar _scrollTo2 = _interopRequireDefault(_scrollTo);\n\nvar _classify = __webpack_require__(16);\n\nvar _classify2 = _interopRequireDefault(_classify);\n\nvar _doScrolling = __webpack_require__(17);\n\nvar _doScrolling2 = _interopRequireDefault(_doScrolling);\n\nvar _markSwupElements = __webpack_require__(18);\n\nvar _markSwupElements2 = _interopRequireDefault(_markSwupElements);\n\nvar _on = __webpack_require__(19);\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = __webpack_require__(20);\n\nvar _off2 = _interopRequireDefault(_off);\n\nvar _updateTransition = __webpack_require__(21);\n\nvar _updateTransition2 = _interopRequireDefault(_updateTransition);\n\nvar _preloadPage = __webpack_require__(22);\n\nvar _preloadPage2 = _interopRequireDefault(_preloadPage);\n\nvar _preloadPages = __webpack_require__(23);\n\nvar _preloadPages2 = _interopRequireDefault(_preloadPages);\n\nvar _usePlugin = __webpack_require__(24);\n\nvar _usePlugin2 = _interopRequireDefault(_usePlugin);\n\nvar _log = __webpack_require__(25);\n\nvar _log2 = _interopRequireDefault(_log);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Swup = function () {\n    function Swup(setOptions) {\n        _classCallCheck(this, Swup);\n\n        // default options\n        var defaults = {\n            cache: true,\n            animationSelector: '[class*=\"transition-\"]',\n            elements: ['#swup'],\n            pageClassPrefix: '',\n            debugMode: false,\n            scroll: true,\n\n            doScrollingRightAway: false,\n            animateScroll: true,\n            scrollFriction: .3,\n            scrollAcceleration: .04,\n\n            preload: true,\n            support: true,\n            plugins: [],\n\n            skipPopStateHandling: function skipPopStateHandling(event) {\n                if (event.state && event.state.source == \"swup\") {\n                    return false;\n                }\n                return true;\n            },\n            animateHistoryBrowsing: false,\n\n            LINK_SELECTOR: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\n            FORM_SELECTOR: 'form[data-swup-form]'\n\n            /**\n             * current transition object\n             */\n        };this.transition = {};\n\n        var options = _extends({}, defaults, setOptions);\n\n        /**\n         * handler arrays\n         */\n        this._handlers = {\n            animationInDone: [],\n            animationInStart: [],\n            animationOutDone: [],\n            animationOutStart: [],\n            animationSkipped: [],\n            clickLink: [],\n            contentReplaced: [],\n            disabled: [],\n            enabled: [],\n            hoverLink: [],\n            openPageInNewTab: [],\n            pageLoaded: [],\n            pagePreloaded: [],\n            pageRetrievedFromCache: [],\n            pageView: [],\n            popState: [],\n            samePage: [],\n            samePageWithHash: [],\n            scrollDone: [],\n            scrollStart: [],\n            serverError: [],\n            submitForm: [],\n            willReplaceContent: []\n        };\n\n        /**\n         * helper variables\n         */\n        // id of element to scroll to after render\n        this.scrollToElement = null;\n        // promise used for preload, so no new loading of the same page starts while page is loading\n        this.preloadPromise = null;\n        // save options\n        this.options = options;\n        // plugins array\n        this.plugins = [];\n\n        /**\n         * make modules accessible in instance\n         */\n        this.getUrl = _getUrl2.default;\n        this.cache = new _Cache2.default();\n        this.link = new _Link2.default();\n        this.transitionEndEvent = (0, _transitionEnd2.default)();\n        this.getDataFromHtml = _getDataFromHtml2.default;\n        this.getPage = _request2.default;\n        this.scrollTo = _scrollTo2.default;\n        this.loadPage = _loadPage2.default;\n        this.renderPage = _renderPage2.default;\n        this.createState = _createState2.default;\n        this.triggerEvent = _triggerEvent2.default;\n        this.classify = _classify2.default;\n        this.doScrolling = _doScrolling2.default;\n        this.markSwupElements = _markSwupElements2.default;\n        this.on = _on2.default;\n        this.off = _off2.default;\n        this.updateTransition = _updateTransition2.default;\n        this.preloadPage = _preloadPage2.default;\n        this.preloadPages = _preloadPages2.default;\n        this.usePlugin = _usePlugin2.default;\n        this.log = _log2.default;\n        this.enable = this.enable;\n        this.destroy = this.destroy;\n\n        // attach instance to window in debug mode\n        if (this.options.debugMode) {\n            window.swup = this;\n        }\n\n        this.getUrl();\n        this.enable();\n    }\n\n    _createClass(Swup, [{\n        key: 'enable',\n        value: function enable() {\n            var _this = this;\n\n            /**\n             * support check\n             */\n            if (this.options.support) {\n                // check pushState support\n                if (!('pushState' in window.history)) {\n                    console.warn('pushState is not supported');\n                    return;\n                }\n                // check transitionEnd support\n                if ((0, _transitionEnd2.default)()) {\n                    this.transitionEndEvent = (0, _transitionEnd2.default)();\n                } else {\n                    console.warn('transitionEnd detection is not supported');\n                    return;\n                }\n                // check Promise support\n                if (typeof Promise === \"undefined\" || Promise.toString().indexOf(\"[native code]\") === -1) {\n                    console.warn('Promise is not supported');\n                    return;\n                }\n            }\n\n            // variable to keep event listeners from \"delegate\"\n            this.delegatedListeners = {};\n\n            /**\n             * link click handler\n             */\n            this.delegatedListeners.click = (0, _delegate2.default)(document, this.options.LINK_SELECTOR, 'click', this.linkClickHandler.bind(this));\n\n            /**\n             * link mouseover handler (preload)\n             */\n            this.delegatedListeners.mouseover = (0, _delegate2.default)(document.body, this.options.LINK_SELECTOR, 'mouseover', this.linkMouseoverHandler.bind(this));\n\n            /**\n             * form submit handler\n             */\n            this.delegatedListeners.formSubmit = (0, _delegate2.default)(document, this.options.FORM_SELECTOR, 'submit', this.formSubmitHandler.bind(this));\n\n            /**\n             * popstate handler\n             */\n            window.addEventListener('popstate', this.popStateHandler.bind(this));\n\n            /**\n             * initial save to cache\n             */\n            var page = this.getDataFromHtml(document.documentElement.outerHTML);\n            page.url = this.currentUrl;\n            if (this.options.cache) {\n                this.cache.cacheUrl(page, this.options.debugMode);\n            }\n\n            /**\n             * mark swup blocks in html\n             */\n            this.markSwupElements(document.documentElement);\n\n            /**\n             * enable plugins from options\n             */\n            this.options.plugins.forEach(function (item) {\n                return _this.usePlugin(item);\n            });\n\n            /**\n             * modify initial history record\n             */\n            window.history.replaceState(Object.assign({}, window.history.state, {\n                url: window.location.href,\n                random: Math.random(),\n                source: \"swup\"\n            }), document.title, window.location.href);\n\n            /**\n             * Disable browser scroll control on popstates when animateHistoryBrowsing option is enabled\n             */\n            if (this.options.animateHistoryBrowsing) {\n                window.history.scrollRestoration = \"manual\";\n            }\n\n            /**\n             * trigger enabled event\n             */\n            this.triggerEvent('enabled');\n            document.documentElement.classList.add('swup-enabled');\n\n            /**\n             * trigger page view event\n             */\n            this.triggerEvent('pageView');\n\n            /**\n             * preload pages if possible\n             */\n            this.preloadPages();\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            // remove delegated listeners\n            this.delegatedListeners.click.destroy();\n            this.delegatedListeners.mouseover.destroy();\n\n            // remove popstate listener\n            window.removeEventListener('popstate', this.popStateHandler.bind(this));\n\n            // empty cache\n            this.cache.empty();\n\n            // remove swup data atributes from blocks\n            document.querySelectorAll('[data-swup]').forEach(function (element) {\n                delete element.dataset.swup;\n            });\n\n            // remove handlers\n            this.off();\n\n            this.triggerEvent('disabled');\n            document.documentElement.classList.remove('swup-enabled');\n        }\n    }, {\n        key: 'linkClickHandler',\n        value: function linkClickHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                // index of pressed button needs to be checked because Firefox triggers click on all mouse buttons\n                if (event.button === 0) {\n                    this.triggerEvent('clickLink', event);\n                    var link = new _Link2.default();\n                    event.preventDefault();\n                    link.setPath(event.delegateTarget.href);\n\n                    if (link.getAddress() == this.currentUrl || link.getAddress() == '') {\n                        // link to the same URL\n                        if (link.getHash() != '') {\n                            // link to the same URL with hash\n                            this.triggerEvent('samePageWithHash', event);\n                            var element = document.querySelector(link.getHash());\n                            if (element != null) {\n                                // referenced element found\n                                if (this.options.scroll) {\n                                    var top = element.getBoundingClientRect().top + window.pageYOffset;\n                                    this.scrollTo(document.body, top);\n                                }\n                                history.replaceState({\n                                    url: link.getAddress() + link.getHash(),\n                                    random: Math.random(),\n                                    source: \"swup\"\n                                }, document.title, link.getAddress() + link.getHash());\n                            } else {\n                                // referenced element not found\n                                console.warn('Element for offset not found (' + link.getHash() + ')');\n                            }\n                        } else {\n                            // link to the same URL without hash\n                            this.triggerEvent('samePage', event);\n                            if (this.options.scroll) {\n                                this.scrollTo(document.body, 0, 1);\n                            }\n                        }\n                    } else {\n                        // link to different url\n                        if (link.getHash() != '') {\n                            this.scrollToElement = link.getHash();\n                        }\n\n                        // get custom transition from data\n                        var customTransition = event.delegateTarget.dataset.swupTransition;\n\n                        // load page\n                        this.loadPage({ url: link.getAddress(), customTransition: customTransition }, false);\n                    }\n                }\n            } else {\n                // open in new tab (do nothing)\n                this.triggerEvent('openPageInNewTab', event);\n            }\n        }\n    }, {\n        key: 'linkMouseoverHandler',\n        value: function linkMouseoverHandler(event) {\n            var _this2 = this;\n\n            this.triggerEvent('hoverLink', event);\n            if (this.options.preload) {\n                var link = new _Link2.default();\n                link.setPath(event.delegateTarget.href);\n                if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n                    this.preloadPromise = new Promise(function (resolve, reject) {\n                        _this2.getPage({ url: link.getAddress() }, function (response, request) {\n                            if (request.status === 500) {\n                                _this2.triggerEvent('serverError', event);\n                                reject(link.getAddress());\n                                return;\n                            } else {\n                                // get json data\n                                var page = _this2.getDataFromHtml(response, request);\n                                if (page != null) {\n                                    page.url = link.getAddress();\n                                    _this2.cache.cacheUrl(page, _this2.options.debugMode);\n                                    _this2.triggerEvent('pagePreloaded', event);\n                                } else {\n                                    reject(link.getAddress());\n                                    return;\n                                }\n                            }\n                            resolve();\n                            _this2.preloadPromise = null;\n                        });\n                    });\n                    this.preloadPromise.route = link.getAddress();\n                }\n            }\n        }\n    }, {\n        key: 'formSubmitHandler',\n        value: function formSubmitHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                this.triggerEvent('submitForm', event);\n                event.preventDefault();\n                var form = event.target;\n                var formData = new FormData(form);\n\n                var link = new _Link2.default();\n                link.setPath(form.action);\n\n                if (link.getHash() != '') {\n                    this.scrollToElement = link.getHash();\n                }\n\n                if (form.method.toLowerCase() != \"get\") {\n                    // remove page from cache\n                    this.cache.remove(link.getAddress());\n\n                    // send data\n                    this.loadPage({\n                        url: link.getAddress(),\n                        method: form.method,\n                        data: formData\n                    });\n                } else {\n                    // create base url\n                    var url = link.getAddress() || window.location.href;\n                    var inputs = form.querySelectorAll('input, select');\n                    if (url.indexOf('?') == -1) {\n                        url += \"?\";\n                    } else {\n                        url += \"&\";\n                    }\n\n                    // add form data to url\n                    inputs.forEach(function (input) {\n                        if (input.type == \"checkbox\" || input.type == \"radio\") {\n                            if (input.checked) {\n                                url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                            }\n                        } else {\n                            url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                        }\n                    });\n\n                    // remove last \"&\"\n                    url = url.slice(0, -1);\n\n                    // remove page from cache\n                    this.cache.remove(url);\n\n                    // send data\n                    this.loadPage({\n                        url: url\n                    });\n                }\n            } else {\n                this.triggerEvent('openFormSubmitInNewTab', event);\n            }\n        }\n    }, {\n        key: 'popStateHandler',\n        value: function popStateHandler(event) {\n            var link = new _Link2.default();\n            if (this.options.skipPopStateHandling(event)) return;\n            link.setPath(event.state ? event.state.url : window.location.pathname);\n            if (link.getHash() != '') {\n                this.scrollToElement = link.getHash();\n            } else {\n                event.preventDefault();\n            }\n            this.triggerEvent('popState', event);\n            this.loadPage({ url: link.getAddress() }, event);\n        }\n    }]);\n\n    return Swup;\n}();\n\nexports.default = Swup;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar closest = __webpack_require__(5);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = function () {\n    function Cache() {\n        _classCallCheck(this, Cache);\n\n        this.pages = {};\n        this.count = 0;\n        this.last = null;\n    }\n\n    _createClass(Cache, [{\n        key: 'cacheUrl',\n        value: function cacheUrl(page, displayCache) {\n            this.count++;\n            if (page.url in this.pages === false) {\n                this.pages[page.url] = page;\n            }\n            this.last = this.pages[page.url];\n            if (displayCache) {\n                this.displayCache();\n            }\n        }\n    }, {\n        key: 'getPage',\n        value: function getPage(url) {\n            return this.pages[url];\n        }\n    }, {\n        key: 'displayCache',\n        value: function displayCache() {\n            console.groupCollapsed('Cache (' + Object.keys(this.pages).length + ')');\n            for (var key in this.pages) {\n                console.log(this.pages[key]);\n            }\n            console.groupEnd();\n        }\n    }, {\n        key: 'exists',\n        value: function exists(url) {\n            if (url in this.pages) return true;\n            return false;\n        }\n    }, {\n        key: 'empty',\n        value: function empty(showLog) {\n            this.pages = {};\n            this.count = 0;\n            this.last = null;\n            if (showLog) {\n                console.log('Cache cleared');\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove(url) {\n            delete this.pages[url];\n        }\n    }]);\n\n    return Cache;\n}();\n\nexports.default = Cache;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function transitionEnd() {\n    var el = document.createElement('div');\n\n    var transEndEventNames = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend'\n    };\n\n    for (var name in transEndEventNames) {\n        if (el.style[name] !== undefined) {\n            return transEndEventNames[name];\n        }\n    }\n\n    return false;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nmodule.exports = function (options) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var defaults = {\n        url: window.location.pathname + window.location.search,\n        method: \"GET\",\n        data: null\n    };\n\n    var data = _extends({}, defaults, options);\n\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status !== 500) {\n                callback(request.responseText, request);\n            } else {\n                callback(null, request);\n            }\n        }\n    };\n\n    request.open(data.method, data.url, true);\n    request.setRequestHeader(\"X-Requested-With\", \"swup\");\n    request.send(data.data);\n    return request;\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function (html, request) {\n    var _this = this;\n\n    var content = html.replace('<body', '<div id=\"swupBody\"').replace('</body>', '</div>');\n    var fakeDom = document.createElement('div');\n    fakeDom.innerHTML = content;\n    var blocks = [];\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (fakeDom.querySelector(this.options.elements[i]) == null) {\n            console.warn('Element ' + this.options.elements[i] + ' is not found in cached page.');\n            return null;\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].dataset.swup = blocks.length;\n                blocks.push((0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].outerHTML);\n            });\n        }\n    }\n\n    var json = {\n        title: fakeDom.querySelector('title').innerText,\n        pageClass: fakeDom.querySelector('#swupBody').className,\n        originalContent: html,\n        blocks: blocks,\n        responseURL: request != null ? request.responseURL : window.location.href\n    };\n    return json;\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (data, popstate) {\n    var _this = this;\n\n    // scrolling\n    if (this.options.doScrollingRightAway && !this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // create array for storing animation promises\n    var animationPromises = [];\n\n    // set transition object\n    if (data.customTransition != null) {\n        this.updateTransition(window.location.pathname, data.url, data.customTransition);\n        document.documentElement.classList.add('to-' + this.classify(data.customTransition));\n    } else {\n        this.updateTransition(window.location.pathname, data.url);\n    }\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        // start animation\n        this.triggerEvent('animationOutStart');\n        document.documentElement.classList.add('is-changing');\n        document.documentElement.classList.add('is-leaving');\n        document.documentElement.classList.add('is-animating');\n        if (popstate) {\n            document.documentElement.classList.add('is-popstate');\n        }\n        document.documentElement.classList.add('to-' + this.classify(data.url));\n\n        // detect animation end\n        var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n        forEach.call(animatedElements, function (element) {\n            var promise = new Promise(function (resolve) {\n                element.addEventListener(_this.transitionEndEvent, function (event) {\n                    if (element == event.target) {\n                        resolve();\n                    }\n                });\n            });\n            animationPromises.push(promise);\n        });\n\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationOutDone');\n        });\n\n        // create pop element with or without anchor\n        if (this.scrollToElement != null) {\n            var pop = data.url + this.scrollToElement;\n        } else {\n            var pop = data.url;\n        }\n        if (!popstate) this.createState(pop);\n    } else {\n        // proceed without animating\n        this.triggerEvent('animationSkipped');\n    }\n\n    if (this.cache.exists(data.url)) {\n        var xhrPromise = new Promise(function (resolve) {\n            resolve();\n        });\n        this.triggerEvent('pageRetrievedFromCache');\n    } else {\n        if (!this.preloadPromise || this.preloadPromise.route != data.url) {\n            var xhrPromise = new Promise(function (resolve, reject) {\n                _this.getPage(data, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        reject(data.url);\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = data.url;\n                        } else {\n                            reject(data.url);\n                            return;\n                        }\n                        // render page\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pageLoaded');\n                    }\n                    resolve();\n                });\n            });\n        } else {\n            var xhrPromise = this.preloadPromise;\n        }\n    }\n\n    Promise.all(animationPromises.concat([xhrPromise])).then(function () {\n        // render page\n        _this.renderPage(_this.cache.getPage(data.url), popstate);\n        _this.preloadPromise = null;\n    }).catch(function (errorUrl) {\n        // rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n        _this.options.skipPopStateHandling = function () {\n            window.location = errorUrl;\n            return true;\n        };\n\n        // go back to the actual page were still at\n        window.history.go(-1);\n    });\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (page, popstate) {\n    var _this = this;\n\n    document.documentElement.classList.remove('is-leaving');\n\n    // replace state in case the url was redirected\n    var link = new _Link2.default();\n    link.setPath(page.responseURL);\n\n    if (window.location.pathname !== link.getPath()) {\n        window.history.replaceState({\n            url: link.getPath(),\n            random: Math.random(),\n            source: \"swup\"\n        }, document.title, link.getPath());\n    }\n\n    // only add for non-popstate transitions\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        document.documentElement.classList.add('is-rendering');\n    }\n\n    this.triggerEvent('willReplaceContent');\n\n    // replace blocks\n    for (var i = 0; i < page.blocks.length; i++) {\n        document.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n    }\n\n    // set title\n    document.title = page.title;\n\n    // handle classes after render\n    // remove\n    if (this.options.pageClassPrefix !== false) {\n        document.body.className.split(' ').forEach(function (className) {\n            // empty string for page class\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.remove(className);\n            }\n        });\n    }\n    // add\n    if (page.pageClass != \"\") {\n        page.pageClass.split(' ').forEach(function (className) {\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.add(className);\n            }\n        });\n    }\n\n    this.triggerEvent('contentReplaced');\n    this.triggerEvent('pageView');\n    if (!this.options.cache) {\n        this.cache.empty(this.options.debugMode);\n    }\n    setTimeout(function () {\n        if (!popstate || _this.options.animateHistoryBrowsing) {\n            _this.triggerEvent('animationInStart');\n            document.documentElement.classList.remove('is-animating');\n        }\n    }, 10);\n\n    // scrolling\n    if (!this.options.doScrollingRightAway || this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // detect animation end\n    var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n    var promises = [];\n    forEach.call(animatedElements, function (element) {\n        var promise = new Promise(function (resolve) {\n            element.addEventListener(_this.transitionEndEvent, function (event) {\n                if (element == event.target) {\n                    resolve();\n                }\n            });\n        });\n        promises.push(promise);\n    });\n\n    //preload pages if possible\n    this.preloadPages();\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        Promise.all(promises).then(function () {\n            _this.triggerEvent('animationInDone');\n            // remove \"to-{page}\" classes\n            document.documentElement.className.split(' ').forEach(function (classItem) {\n                if (new RegExp(\"^to-\").test(classItem) || classItem === \"is-changing\" || classItem === \"is-rendering\" || classItem === \"is-popstate\") {\n                    document.documentElement.classList.remove(classItem);\n                }\n            });\n        });\n    }\n\n    // update current url\n    this.getUrl();\n    // reset scroll-to element\n    this.scrollToElement = null;\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (url) {\n    window.history.pushState({\n        url: url || window.location.href.split(window.location.hostname)[1],\n        random: Math.random(),\n        source: \"swup\"\n    }, document.getElementsByTagName('title')[0].innerText, url || window.location.href.split(window.location.hostname)[1]);\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (eventName, originalEvent) {\n    if (this.options.debugMode && originalEvent) {\n        console.groupCollapsed('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n        console.log(originalEvent);\n        console.groupEnd();\n    } else if (this.options.debugMode) {\n        console.log('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n    }\n\n    // call saved handlers with \"on\" method and pass originalEvent object if available\n    this._handlers[eventName].forEach(function (handler) {\n        try {\n            handler(originalEvent);\n        } catch (error) {\n            console.error(error);\n        }\n    });\n\n    // trigger event on document with prefix \"swup:\"\n    var event = new CustomEvent('swup:' + eventName, { detail: eventName });\n    document.dispatchEvent(event);\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n    this.currentUrl = window.location.pathname + window.location.search;\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (element, to) {\n    var _this = this;\n\n    var animatedScroll = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.animateScroll;\n\n    var friction = 1 - this.options.scrollFriction;\n    var acceleration = this.options.scrollAcceleration;\n\n    var positionY = 0;\n    var velocityY = 0;\n    var targetPositionY = 0;\n    var targetPositionYWithOffset = 0;\n    var direction = 0;\n\n    var raf = null;\n\n    function getScrollTop() {\n        return document.body.scrollTop || document.documentElement.scrollTop;\n    }\n\n    var animate = function animate() {\n        var distance = update();\n        render();\n\n        if (direction === 1 && targetPositionY > positionY || direction === -1 && targetPositionY < positionY) {\n            raf = requestAnimationFrame(animate);\n        } else {\n            window.scrollTo(0, targetPositionY);\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    function update() {\n        var distance = targetPositionYWithOffset - positionY;\n        var attraction = distance * acceleration;\n\n        applyForce(attraction);\n\n        velocityY *= friction;\n        positionY += velocityY;\n\n        return distance;\n    }\n\n    var applyForce = function applyForce(force) {\n        velocityY += force;\n    };\n\n    var render = function render() {\n        window.scrollTo(0, positionY);\n    };\n\n    window.addEventListener('mousewheel', function (event) {\n        if (raf) {\n            cancelAnimationFrame(raf);\n            raf = null;\n        }\n    }, {\n        passive: true\n    });\n\n    var scrollTo = function scrollTo(offset, callback) {\n        positionY = getScrollTop();\n        direction = positionY > offset ? -1 : 1;\n        targetPositionYWithOffset = offset + direction;\n        targetPositionY = offset;\n        velocityY = 0;\n        if (positionY != targetPositionY) {\n            animate();\n        } else {\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    this.triggerEvent('scrollStart');\n    if (animatedScroll == 0) {\n        window.scrollTo(0, to);\n        this.triggerEvent('scrollDone');\n    } else {\n        scrollTo(to);\n    }\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (text) {\n    var output = text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/\\//g, '-') // Replace / with -\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n    if (output[0] == \"/\") output = output.splice(1);\n    if (output == '') output = 'homepage';\n    return output;\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (popstate) {\n    if (this.options.scroll && (!popstate || this.options.animateHistoryBrowsing)) {\n        if (this.scrollToElement != null) {\n            var element = document.querySelector(this.scrollToElement);\n            if (element != null) {\n                var top = element.getBoundingClientRect().top + window.pageYOffset;\n                this.scrollTo(document.body, top);\n            } else {\n                console.warn(\"Element for offset not found (\" + this.scrollToElement + \")\");\n            }\n            this.scrollToElement = null;\n        } else {\n            this.scrollTo(document.body, 0);\n        }\n    }\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function (element) {\n    var _this = this;\n\n    var blocks = 0;\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (element.querySelector(this.options.elements[i]) == null) {\n            console.warn(\"Element \" + this.options.elements[i] + \" is not in current page.\");\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], element)[index].dataset.swup = blocks;\n                blocks++;\n            });\n        }\n    }\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function on(event, handler) {\n    if (this._handlers[event]) {\n        this._handlers[event].push(handler);\n    } else {\n        console.warn(\"Unsupported event \" + event + \".\");\n    }\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function off(event, handler) {\n    var _this = this;\n\n    if (event != null) {\n        if (handler != null) {\n            if (this._handlers[event] && this._handlers[event].filter(function (savedHandler) {\n                return savedHandler === handler;\n            }).length) {\n                var toRemove = this._handlers[event].filter(function (savedHandler) {\n                    return savedHandler === handler;\n                })[0];\n                var index = this._handlers[event].indexOf(toRemove);\n                if (index > -1) {\n                    this._handlers[event].splice(index, 1);\n                }\n            } else {\n                console.warn(\"Handler for event '\" + event + \"' no found.\");\n            }\n        } else {\n            this._handlers[event] = [];\n        }\n    } else {\n        Object.keys(this._handlers).forEach(function (keys) {\n            _this._handlers[keys] = [];\n        });\n    }\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (from, to, custom) {\n\n    // homepage case\n    if (from == \"/\") {\n        from = \"/homepage\";\n    }\n    if (to == \"/\") {\n        to = \"/homepage\";\n    }\n\n    // transition routes\n    this.transition = {\n        from: from.replace('/', ''),\n        to: to.replace('/', '')\n    };\n\n    if (custom) {\n        this.transition.custom = custom;\n    }\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = function (pathname) {\n    var _this = this;\n\n    var link = new _Link2.default();\n    link.setPath(pathname);\n    if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n        this.getPage({ url: link.getAddress() }, function (response, request) {\n            if (request.status === 500) {\n                _this.triggerEvent('serverError');\n                return;\n            } else {\n                // get json data\n                var page = _this.getDataFromHtml(response, request);\n                if (page != null) {\n                    page.url = link.getAddress();\n                    _this.cache.cacheUrl(page, _this.options.debugMode);\n                    _this.triggerEvent('pagePreloaded');\n                }\n            }\n        });\n    }\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function () {\n    var _this = this;\n\n    if (this.options.preload) {\n        (0, _utils.queryAll)('[data-swup-preload]').forEach(function (element) {\n            _this.preloadPage(element.href);\n        });\n    }\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (plugin, options) {\n    var _this = this;\n\n    options = Object.assign({}, plugin.options, options);\n\n    plugin.options = options;\n\n    var getCurrentPageHtml = function getCurrentPageHtml() {\n        var page = _this.cache.getPage(window.location.pathname + window.location.search);\n        var html = document.createElement('html');\n        html.innerHTML = page.originalContent;\n        return html;\n    };\n\n    this.plugins.push(plugin);\n    plugin.exec(options, this, getCurrentPageHtml);\n    return this.plugins;\n};\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (str) {\n    if (this.options.debugMode) {\n        console.log(str + '%c', 'color: #009ACD');\n    }\n};\n\n/***/ })\n/******/ ]);\n});"]}